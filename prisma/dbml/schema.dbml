//// ------------------------------------------------------
//// THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
//// ------------------------------------------------------

Table Requirement {
  id Int [pk, increment]
  name String
  incomeProfile IncomeProfileEnum [not null]
  residenceType ResidenceTypeEnum [not null]
  preApprovalFee Int
  processingFee Int
  rate Int
  lifeInsurance Int
  propertyInsurance Int
  valuationFee Int
  requiredDocuments RequiredDocument [not null]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
}

Table RequiredDocument {
  id Int [pk, increment]
  name String
  documentType DocumentTypeEnum [not null]
  isMandatory Boolean [not null, default: false]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  requirement Requirement [not null]
  requirementId Int [not null]
}

Table Document {
  id Int [pk, increment]
  type DocumentTypeEnum [not null]
  url String [unique, not null]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  mortgage Mortgage
  mortgageId Int
  commentId Int
  Comment Comment
  propertyId Int
  Property Property
}

Table Mortgage {
  id Int [pk, increment]
  firstName String [not null]
  lastName String [not null]
  email String [not null]
  phoneNumber String
  dateOfBirth DateTime [not null]
  intendedProperty String [not null]
  monthlyIncome Float [not null]
  valueOfProperty Float [not null, default: 0]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  country String [default: '']
  status MortgageStatusEnum [not null]
  residenceType ResidenceTypeEnum [not null]
  incomeProfile IncomeProfileEnum [not null]
  loanType LoanTypeEnum [not null]
  documents Document [not null]
  userId Int
  user User
  comments Comment [not null]
  mortgageTransactions MortgageTransaction [not null]
}

Table MortgageTransaction {
  id Int [pk, increment]
  additionalDetail String
  customerInformation String
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  financeType FinanceTypeEnum
  emirate EmirateEnum
  propertyType PropertyTypeEnum
  completionStatus CompletionStatusEnum
  loanType LoanTypeEnum
  mortgageId Int [not null]
  mortgage Mortgage [not null]
}

Table Comment {
  id Int [pk, increment]
  userId Int [not null]
  mortgageId Int [not null]
  message String [not null]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  attachments Document [not null]
  user User [not null]
  mortgage Mortgage [not null]
}

Table User {
  id Int [pk, increment]
  authId String [unique, not null]
  firstName String [not null]
  lastName String [not null]
  email String [unique, not null]
  password String [not null]
  role UserRoleEnum [default: 'ADVERTISER']
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  agentId Int
  isEmailConfirmed Boolean
  mortgage Mortgage [not null]
  comments Comment [not null]
  properties Property [not null]
  agent Agent [not null]
}

Table Location {
  id Int [pk, increment]
  name String [unique]
  emirate EmirateEnum
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  properties Property [not null]
  agents Agent [not null]
}

Table Amenity {
  id Int [pk, increment]
  name String [unique]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  type AmenityTypeEnum
  property Property
  propertyId Int
}

Table PropertyPhotos {
  id Int [pk, increment]
  propertyId Int [not null]
  name String [not null]
  path String [unique, not null]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
}

Table Property {
  id Int [pk, increment]
  name String [not null]
  description String
  phone String [not null]
  amount Float [not null]
  size Float
  numberOfBedRooms Int
  numberOfBathRooms Int
  maintenanceFee Float
  address String
  landmark String
  completionDate DateTime
  minimumContract Float
  noticePeriod Float
  deedNumber String
  unitNumber Int
  buildingName String
  floor Int
  isApproved Boolean
  draft String
  agentInfoId Int
  paymentInterval String
  numberOfCheques Int
  noticePeriodOfRemainingRentalAgreement Int
  numberOfLavatory Int
  rentalAmount Float
  trakheesiPermitNo String [default: '']
  lat Float
  lng Float
  createdAt DateTime [default: `now()`]
  updatedAt DateTime
  projectStatus ProjectStatusEnum
  occupencyStatus OccupencyStatusEnum
  propertyFor PropertyForEnum [default: 'SALE']
  propertyType PropertyTypeEnum
  propertyCategory PropertyCategoryEnum
  holdingType HoldingTypeEnum
  emirate EmirateEnum
  locationId Int
  location Location
  userId Int
  user User
  agentId Int
  agent Agent
  documents Document [not null]
  amenities Amenity [not null]
}

Table Agent {
  id Int [pk, increment]
  userId Int [not null]
  agency String
  contactNumber String
  locationId Int [not null]
  realEstateLicenseFilePath String [unique, not null]
  isActive Boolean
  isApproved Boolean
  createdAt DateTime [not null]
  updatedAt DateTime [not null]
  user User [not null]
  properties Property [not null]
  location Location [not null]
}

Table Inqueries {
  id Int [pk, increment]
  firstName String [not null]
  lastName String [not null]
  budget Int [not null]
  website String [not null]
  message String [not null]
  createdAt DateTime [not null]
  updatedAt DateTime [not null]
}

Enum IncomeProfileEnum {
  SALARIED
  SELF_EMPLOYED
  RENTAL_INCOME
}

Enum ResidenceTypeEnum {
  UAE_NATIONAL
  UAE_RESIDENT
  NON_UAE_RESIDENT
}

Enum DocumentTypeEnum {
  PASSPORT_COPY
  VISA_COPY
  EMIRATES_ID
  BANK_STATEMENT_6_MONTHS
  BANK_STATEMENT_1_YEAR
  SALARY_CERTIFICATE
  TRADE_LICENSE
  MEMORANDUM_WITH_AMENDMENTS
  VAT_CERTIFICATE_RETURN_RECEIPTS
  OFFICE_TENANCY_CONTRACT_UTILITY_BILL
  COMPANY_PROFILE_WEBSITE
  TITLE_DEED_COPY
  TENANCY_CONTRACT_COPY
  RENTAL_CHEQUE_COPY
  BANK_STATEMENT_3_MONTHS_EQUIVALENT_AED_25000
  PROOF_OF_RESIDENCE
  PROOF_OF_INCOME
  COMPANY_BANK_STATEMENT_6_MONTHS
  OWNERSHIP_PROOF_MOBILE_NUMBER
}

Enum AmenityTypeEnum {
  PROPERTY
  BUILDING
  COMMUNITY
}

Enum HoldingTypeEnum {
  FREE_HOLD
  LEASE_HOLD
}

Enum UserRoleEnum {
  ADMIN
  ADVERTISER
  AGENT
}

Enum CompletionStatusEnum {
  COMPLETED
  UNDER_CONSTRUCTION
}

Enum FinanceTypeEnum {
  ISLAMIC
  CONVENTIONAL
}

Enum MortgageStatusEnum {
  SUBMITTED
  UNDER_DOCUMENTATION_STAGE
  SUBMITTED_TO_BANK
  APPROVED
  VALUATION_STAGE
  FINAL_OFFER_LETTER
  CASE_DISBURSED
  PROPERTY_TRANSFER
  TRANSACTION_COMPLETED
  CASE_CLOSED
  CASE_DECLINED
}

Enum LoanTypeEnum {
  BUY_PROPERTY_FROM_SELLER
  BUY_PROPERTY_FROM_DEVELOPER
  SHIFT_PROPERTY_LOAN
  GET_CASH_AGAINST_EXISTING_PROPERTY
}

Enum PropertyForEnum {
  SALE
  RENT
}

Enum ProjectStatusEnum {
  OFF_PLAN_UNDER_CONSTRUCTION
  SHELL_AND_CORE
  COMPLETED
}

Enum OccupencyStatusEnum {
  VACANT
  OCCUPIED
}

Enum PropertyTypeEnum {
  RESIDENTIAL
  COMMERCIAL
}

Enum PropertyCategoryEnum {
  APARTMENT_AND_UNIT
  VILLA
  ACREAGE
  BLOCK_OF_UNITS
  HOUSE
  TOWNHOUSE
  LAND
  BULK_UNIT
  COMMERCIAL_BUILDING
  COMMERCIAL_FLOOR
  COMMERCIAL_VILLA
  COMMERCIAL_PLOT
  FACTORY
  INDUSTRIAL_UNIT_FOR_SALE
  INDUSTRIAL_LAND
  MIXED_USED_SAND
  OFFICE_FOR_SALE
  RETAIL_FOR_SALE
  SHOP
  STAFF_ACCOMMODATION_FOR_SALE
  WAREHOUSE
  SELL_COMMERCIAL_LAND
  OTHER
}

Enum EmirateEnum {
  DUBAI
  ABU_DHABI
  RAS_AL_KHAIMAH
  SHARJAH
  FUJAIRAH
  AJMAN
  UMM_AL_QUWAIN
}

Ref: RequiredDocument.requirementId > Requirement.id [delete: Cascade]

Ref: Document.mortgageId > Mortgage.id

Ref: Document.commentId > Comment.id

Ref: Document.propertyId > Property.id

Ref: Mortgage.userId > User.id [delete: Cascade]

Ref: MortgageTransaction.mortgageId > Mortgage.id [delete: Cascade]

Ref: Comment.userId > User.id

Ref: Comment.mortgageId > Mortgage.id [delete: Cascade]

Ref: Amenity.propertyId > Property.id

Ref: Property.locationId > Location.id

Ref: Property.userId > User.id [delete: Cascade]

Ref: Property.agentId > Agent.id

Ref: Agent.userId > User.id

Ref: Agent.locationId > Location.id